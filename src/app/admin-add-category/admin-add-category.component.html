<app-header (headerClassChange)="toggleMainSec()"></app-header>
<section class="transition3ms UP_mainCon" [ngClass]="{'open': mainToggle}">
	<div class="UP_con">
		<h2 class="text-left"><i class="fa fa-cogs headIcon"></i>Add Categories and Time Period</h2>
		<hr class="headSep">
		<div class="row mx-0">
			<div class="col-md-6">
				<div class="card shadow py-3 my-4">
					<div class="row mx-0">
						<div class="col-12">
							<div class="">
								<mat-form-field class="w-100">
									<input matInput [(ngModel)]="categoryName.categoryName" type="name" name="name" placeholder="Category Name">
								</mat-form-field>
							</div>
							<div class="text-center">
								<button mat-raised-button  (click)="addCategory()" color="primary" class="mt-2">Create Category</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card shadow py-3 my-4">
					<div class="row mx-0">
						<div class="col-12">
							<div class="">
								<mat-form-field class="w-100">
									<input matInput [(ngModel)]="timePeriod.timePeriod" type="name" name="name" placeholder="Time Period">
								</mat-form-field>
							</div>
							<div class="text-center">
								<button mat-raised-button (click)="addTimePeriod()" color="primary" class="mt-2">Add Time Period</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row mx-0">
			<div class="col-md-6">
				<div class="card shadow py-3 my-4">
					<div class="row mx-0">
						<div class="col-12">
							<div class="table-responsive text-center">
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>Category Name</th>
											<th>Action</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let cRow of allCategories">
											<td class="align-middle">{{cRow.categoryName}}</td>
											<td class="align-middle">
												<button mat-mini-fab color="warn" (click)="categoryDeleteModal(cRow.id)">
													<i class="fa fa-trash"></i>
												</button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card shadow py-3 my-4">
					<div class="row mx-0">
						<div class="col-12">
							<div class="table-responsive text-center">
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>Time Period</th>
											<th>Action</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let tRow of allTimePeriod">
											<td class="align-middle">{{tRow.timePeriod}}</td>
											<td class="align-middle">
												<button mat-mini-fab color="warn" (click)="timeDeleteModal(tRow.id)">
													<i class="fa fa-trash"></i>
												</button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Delete Category -->
	<div class="modal fade" id="deleteCateg">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">

				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Delete Category</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>

				<!-- Modal body -->
				<div class="modal-body">
					<p>Are you sure, You want to delete this Category?</p>
				</div>

				<!-- Modal footer -->
				<div class="modal-footer">
					<button type="button" class="btn shadow btn-primary" (click)="deleteCategory()">Confirm</button>
					<button id="closeDeleteCat" type="button" class="btn shadow btn-light" data-dismiss="modal">Close</button>
				</div>

			</div>
		</div>
	</div>
	<!-- Delete Time Period -->
	<div class="modal fade" id="deleteTime">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">

				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Delete Time Period</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>

				<!-- Modal body -->
				<div class="modal-body">
					<p>Are you sure, You want to delete this Time Period?</p>
				</div>

				<!-- Modal footer -->
				<div class="modal-footer">
					<button type="button" class="btn shadow btn-primary" (click)="deleteTimePeriod()">Confirm</button>
					<button id="closeDeleteTime" type="button" class="btn shadow btn-light" data-dismiss="modal">Close</button>
				</div>

			</div>
		</div>
	</div>
	<button id="accessCatDeleteModal" class="d-none" data-toggle="modal" data-target="#deleteCateg"></button>
	<button id="accessTimeDeleteModal" class="d-none" data-toggle="modal" data-target="#deleteTime"></button>
	<app-footer></app-footer>
</section>
<div *ngIf="showLoader" style="position: fixed; z-index: 1003; left: 0; top: 0; bottom: 0; right: 0; background: #bfbfbf75; opacity: 1;">
	<img id="loadinggif" src="assets/images/load.gif" style="width: 100px; height: 100px; position: absolute; top: 50%; left: 50%; margin: -28px 0 0 -25px;">
</div>
